import{_ as m,R as f,r as b,o as c,c as u,a as t,t as n,e as g,g as a,F as v}from"./app-361ae2ee.js";const h={components:{VueCropper:f},emits:["croppedImg"],data(){return{randId:Math.ceil(Math.random()*1e6),imgSrc:"/images/default.jpg",cropImg:"",data:null}},created(){},methods:{openImageSelector(){this.$refs.imageInput.value=null,this.imgSrc="/images/default.jpg",this.$refs.imageInput.click()},handleImageChange(o){this.$refs.openModal.click();const e=o.target.files[0];if(e.type.indexOf("image/")===-1){alert("Please select an image file");return}if(typeof FileReader=="function"){const l=new FileReader;l.onload=i=>{this.imgSrc=i.target.result,this.$refs.cropper.replace(i.target.result)},l.readAsDataURL(e)}else alert("Sorry, FileReader API not supported")},cropImage(){this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL("image/webp"),this.$emit("croppedImg",this.cropImg),this.$refs.closeBtn.click()},flipX(){const o=this.$refs.flipX;let e=o.getAttribute("data-scale");e=e?-e:-1,this.$refs.cropper.scaleX(e),o.setAttribute("data-scale",e)},flipY(){const o=this.$refs.flipY;let e=o.getAttribute("data-scale");e=e?-e:-1,this.$refs.cropper.scaleY(e),o.setAttribute("data-scale",e)},getCropBoxData(){this.data=JSON.stringify(this.$refs.cropper.getCropBoxData(),null,4)},getData(){this.data=JSON.stringify(this.$refs.cropper.getData(),null,4)},move(o,e){this.$refs.cropper.move(o,e)},reset(){this.$refs.cropper.reset()},rotate(o){this.$refs.cropper.rotate(o)},setCropBoxData(){this.data&&this.$refs.cropper.setCropBoxData(JSON.parse(this.data))},setData(){this.data&&this.$refs.cropper.setData(JSON.parse(this.data))},zoom(o){this.$refs.cropper.relativeZoom(o)}}},C=["data-bs-target"],I=["id"],k={class:"modal-dialog modal-lg"},y={class:"modal-content"},S={class:"modal-body"},D={class:"cropper-area"},M={class:"img-cropper row"},R={class:"col-md-8"},w={class:"actions"},B={type:"button",ref:"closeBtn",class:"btn btn-sm btn-dark","data-bs-dismiss":"modal"};function x(o,e,l,i,p,r){const d=b("vue-cropper");return c(),u(v,null,[t("button",{onClick:e[0]||(e[0]=(...s)=>r.openImageSelector&&r.openImageSelector(...s)),type:"button",class:"btn btn-sm btn-success fs-6"},n("Upload Image")),t("button",{style:{display:"none"},type:"button",class:"btn btn-sm btn-success fs-6","data-bs-toggle":"modal","data-bs-target":"#cropperModal-"+p.randId,title:"Open",ref:"openModal"},n("Modal opener"),8,C),t("input",{ref:"imageInput",type:"file",name:"image",accept:"image/*",onChange:e[1]||(e[1]=(...s)=>r.handleImageChange&&r.handleImageChange(...s)),style:{display:"none"}},null,544),t("div",{class:"modal fade",id:"cropperModal-"+p.randId,tabindex:"-1"},[t("div",k,[t("div",y,[e[18]||(e[18]=t("div",{class:"modal-header"},[t("h2",null,n("Upload and crop the image"))],-1)),t("div",S,[t("div",null,[t("input",{ref:"input",type:"file",name:"image",accept:"image/*",onChange:e[2]||(e[2]=(...s)=>o.setImage&&o.setImage(...s))},null,544),t("section",D,[t("div",M,[t("div",R,[g(d,{ref:"cropper","aspect-ratio":9/6,src:p.imgSrc,preview:".preview"},null,8,["src"])]),e[15]||(e[15]=t("div",{class:"col-md-4"},[t("p",null,n("Preview")),t("div",{class:"preview"})],-1))]),t("div",w,[t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[3]||(e[3]=a(s=>r.zoom(.2),["prevent"]))},n("Zoom In")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[4]||(e[4]=a(s=>r.zoom(-.2),["prevent"]))},n("Zoom Out")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[5]||(e[5]=a(s=>r.move(-10,0),["prevent"]))},n("Move Left")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[6]||(e[6]=a(s=>r.move(10,0),["prevent"]))},n("Move Right")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[7]||(e[7]=a(s=>r.move(0,-10),["prevent"]))},n("Move Up")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[8]||(e[8]=a(s=>r.move(0,10),["prevent"]))},n("Move Down")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[9]||(e[9]=a(s=>r.rotate(90),["prevent"]))},n("Rotate +90deg")),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[10]||(e[10]=a(s=>r.rotate(-90),["prevent"]))},n("Rotate -90deg")),t("a",{ref:"flipX",class:"btn btn-sm btn-info",href:"#",role:"button",onClick:e[11]||(e[11]=a((...s)=>r.flipX&&r.flipX(...s),["prevent"]))},n("Flip X"),512),t("a",{ref:"flipY",class:"btn btn-sm btn-info",href:"#",role:"button",onClick:e[12]||(e[12]=a((...s)=>r.flipY&&r.flipY(...s),["prevent"]))},n("Flip Y"),512),t("a",{href:"#",class:"btn btn-sm btn-info",role:"button",onClick:e[13]||(e[13]=a((...s)=>r.reset&&r.reset(...s),["prevent"]))},n("Reset")),e[16]||(e[16]=t("br",null,null,-1)),e[17]||(e[17]=t("br",null,null,-1)),t("a",{href:"#",class:"btn btn-sm btn-success",role:"button",onClick:e[14]||(e[14]=a((...s)=>r.cropImage&&r.cropImage(...s),["prevent"]))},n("Crop")),t("button",B,n("Close"),512)])])])])])])],8,I)],64)}const F=m(h,[["render",x],["__scopeId","data-v-6d310cf2"]]);export{F as default};
